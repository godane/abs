# Contributor: Douglas Soares de Andrade <dsa@aur.archlinux.org>
# Contributor: Andrew Conkling <andrewski@fr.st>
# Maintainer: Daniel J Griffiths <ghost1227@archlinux.us>

pkgname=scribes
pkgver=20091008
pkgrel=1
pkgdesc="A simple PyGTK+ text editor"
arch=('i686' 'x86_64')
url="http://scribes.sourceforge.net"
license=('GPL')
depends=('gnome-python-extras' 'gtksourceview' 'gnome-python-desktop' 'gnome-common' 'dbus-python' 'pygtksourceview2' 'gnome-doc-utils' 'xdg-utils' 'gtkspell')
makedepends=('bzr' 'intltool')

_bzrbranch=lp:scribes

build() {
	cd ${srcdir}

	msg "Connecting to the server...."

	bzr branch $_bzrbranch

	msg "BZR checkout done or server timeout"
	msg "Starting make..."

	cd ${pkgname}
	sed -e 's|REQUIRED_AUTOMAKE_VERSION=1.9||' -i autogen.sh
	./autogen.sh
	make || return 1
}

package() {
	cd ${srcdir}/${pkgname}

	make DESTDIR=${pkgdir} install || return 1
}
